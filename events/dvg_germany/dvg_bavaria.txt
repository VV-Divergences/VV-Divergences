### Author: Kallar ###

namespace = dvg_bavaria

#### Bavarian Startup Event ####

dvg_bavaria.1 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.1.t
	desc = dvg_bavaria.1.d
	flavor = dvg_bavaria.1.f


	option = {
		name = dvg_bavaria.1.a
		default_option = yes
		
		trigger_event = { id = dvg_bavaria.2 days = 22 }
	}

}

### Events about Bavarian Constitution ### 
### See journal entry: je_bavarian_constitution

#### The Political Choice ####
dvg_bavaria.2 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.2.t
	desc = dvg_bavaria.2.d
	flavor = dvg_bavaria.2.f


	option = {
		name = dvg_bavaria.2.a
		default_option = yes
		
		add_loyalists = {
			value = 0.1
		}
		
		add_modifier = {
			name = dvg_bav_draft_constitution
		}
		
		add_journal_entry = {
			type = je_bavarian_constitution
		}
		
	}

}

### Der Karlsbad Tag ###
dvg_bavaria.3 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.3.t
	desc = dvg_bavaria.3.d
	flavor = dvg_bavaria.3.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event ={ id = dvg_bavaria.4 days = 300 }}
		}
	}

	option = {
		name = dvg_bavaria.3.a
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes

		ai_chance = {
			base = 10
		}
	}

	option = {
		name = dvg_bavaria.3.b
		default_option = yes

		dvg_bav_constitution_conservative_power = yes

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.3.c
		default_option = yes

		dvg_bav_constitution_reactionary_power = yes
		
		ai_chance = {
			base = 40
		}
	}

}

### The Innsbruck Festival ###
dvg_bavaria.4 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.4.t
	desc = dvg_bavaria.4.d
	flavor = dvg_bavaria.4.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event ={ id = dvg_bavaria.5 days = 300 }}
		}
	}

	option = {
		name = dvg_bavaria.4.a
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_bavaria.4.b
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes

		ai_chance = {
			base = 40
		}
	}

	option = {
		name = dvg_bavaria.4.c
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes
		
		ai_chance = {
			base = 40
		}
	}

}

### The Trial of 'Das junge Deutschland' Twelve ###
dvg_bavaria.5 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.5.t
	desc = dvg_bavaria.5.d
	flavor = dvg_bavaria.5.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event ={ id = dvg_bavaria.6 days = 300 }}
		}
	}

	option = {
		name = dvg_bavaria.5.a
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_bavaria.5.b
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.5.c
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes

		ai_chance = {
			base = 30
		}
		
	}

}

### The Ducal Pamphlet of 1840 ###
dvg_bavaria.6 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.6.t
	desc = dvg_bavaria.6.d
	flavor = dvg_bavaria.6.f

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					c:BAV = { has_law = law_type:law_right_of_assembly }
				}
				c:BAV = { trigger_event ={ id = dvg_bavaria.7 days = 300 }}
			}
			else = {
				c:BAV = { trigger_event ={ id = dvg_bavaria.8 days = 300 }}
			}
		}
	}

	option = {
		name = dvg_bavaria.6.a
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.6.b
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes

		ai_chance = {
			base = 30
		}
	}

	option = {
		name = dvg_bavaria.6.c
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes

		ai_chance = {
			base = 20
		}
		
	}

}

### Street Violence in Munich ###
dvg_bavaria.7 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.7.t
	desc = dvg_bavaria.7.d
	flavor = dvg_bavaria.7.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event ={ id = dvg_bavaria.9 days = 300 }}
		}
	}

	option = {
		name = dvg_bavaria.7.a
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes
		activate_law = law_type:law_outlawed_dissent

		ai_chance = {
			base = 30
		}
	}

	option = {
		name = dvg_bavaria.7.b
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.7.c
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes

		ai_chance = {
			base = 20
		}
		
	}

}

### Secret Meeting dissolved by police
### Street Violence in Munich ###
dvg_bavaria.8 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.8.t
	desc = dvg_bavaria.8.d
	flavor = dvg_bavaria.8.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event ={ id = dvg_bavaria.9 days = 300 }}
		}
	}

	option = {
		name = dvg_bavaria.8.a
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes

		ai_chance = {
			base = 20
		}
		
	}

	option = {
		name = dvg_bavaria.8.b
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes
		activate_law = law_type:law_right_of_assembly

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_bavaria.8.c
		default_option = yes
		
		dvg_bav_constitution_liberal_power = yes
		activate_law = law_type:law_right_of_assembly
		activate_law = law_type:law_dedicated_police

		ai_chance = {
			base = 60
		}
	}

}

### Religion in Bavaria ###
dvg_bavaria.9 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.9.t
	desc = dvg_bavaria.9.d
	flavor = dvg_bavaria.9.f

	option = {
		name = dvg_bavaria.9.a
		default_option = yes
		
		
		dvg_bav_constitution_liberal_power = yes
		activate_law = law_type:law_freedom_of_conscience
		set_global_variable = dvg_bavarian_constitution_complete

		set_global_variable = dvg_bavaria_freedom_of_conscience_secured

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.9.b
		default_option = yes
		
		dvg_bav_constitution_conservative_power = yes
		set_global_variable = dvg_bavarian_constitution_complete

		ai_chance = {
			base = 40
		}
	}

	option = {
		name = dvg_bavaria.9.c
		default_option = yes
		
		dvg_bav_constitution_reactionary_power = yes
		activate_law = law_type:law_state_religion
		set_global_variable = dvg_bavarian_constitution_complete

		ai_chance = {
			base = 10
		}
		
	}

}

#### The Obvious Demand and the Fire of Nuremberg is in Bohemia-HRE. This event is triggered after the Obvious Demand ###
###  Opening Event for the First German Council in response to Nuremberg ###
### The All-German Council in Munich ###
dvg_bavaria.10 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.10.t
	desc = dvg_bavaria.10.d
	flavor = dvg_bavaria.10.f


	

	option = {
		name = dvg_bavaria.10.a
		default_option = yes
		
		change_relations = {
			country = c:AUS
			value = 50
		}

		add_loyalists = {
			value = 0.1
		}

		c:AUS = {
			trigger_event = { id = dvg_bavaria.11 days = 5 }
		}

		set_global_variable = dvg_bavaria_first_german_council
	}


}

### The All-German Council in Munich - Austrian side ###
dvg_bavaria.11 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.11.t
	desc = dvg_bavaria.11.d
	flavor = dvg_bavaria.11.f

	option = {
		name = dvg_bavaria.11.a
		default_option = yes
		
		change_relations = {
			country = c:BAV
			value = 50
		}

		add_loyalists = {
			value = 0.1
		}

		c:BAV = {
			trigger_event = { id = dvg_bavaria.12 days = 5 }
		}

		trigger_event = { id = dvg_bavaria.13 days = 5 }
	}


}

### The First Council of the States of Germany in Munich ###
dvg_bavaria.12 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.12.t
	desc = dvg_bavaria.12.d
	flavor = dvg_bavaria.12.f

	option = {
		name = dvg_bavaria.12.a
		default_option = yes
		
		add_modifier = {
			name = dvg_sgf_first_council
			months = 6
		}

		### Riots in Salzuburg
		trigger_event = { id = dvg_bavaria.14 days = 5 }
	}


}

### The First Council of the States of Germany in Munich - Austrian Side ###
dvg_bavaria.13 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.13.t
	desc = dvg_bavaria.13.d
	flavor = dvg_bavaria.13.f

	option = {
		name = dvg_bavaria.13.a
		default_option = yes
		
		add_modifier = {
			name = dvg_sgf_first_council
			months = 6
		}

		### Riots in Salzuburg - Austria
		trigger_event = { id = dvg_bavaria.15 days = 5 }
	}


}

### Riots at Salzburg - Bavarian Side
dvg_bavaria.14 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.14.t
	desc = dvg_bavaria.14.d
	flavor = dvg_bavaria.14.f

	option = {
		name = dvg_bavaria.14.a
		default_option = yes
		
		change_relations = {
			country = c:AUS
			value = -50
		}

		c:BOH = {
			trigger_event = { id = dvg_bavaria.16 days = 5 }
		}
	}


}

### Riots at Salzburg - Austrian Side
dvg_bavaria.15 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.15.t
	desc = dvg_bavaria.15.d
	flavor = dvg_bavaria.15.f


	
	option = {
		name = dvg_bavaria.15.a
		default_option = yes
		
		change_relations = {
			country = c:BAV
			value = -50
		}
	}


}


### Riots at Salzburg - Bohemian decision
dvg_bavaria.16 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.16.t
	desc = dvg_bavaria.16.d
	flavor = dvg_bavaria.16.f

	immediate = {
		hidden_effect = {
			c:BAV = { trigger_event = { id = dvg_bavaria.20 days = 100 }}
		}
	}

	### Bavaria gets it
	option = {
		name = dvg_bavaria.16.a
		default_option = yes
		
		c:BAV = {
			trigger_event = {
				id = dvg_bavaria.17 days = 5
			}
		}
		c:AUS = {
			trigger_event = {
				id = dvg_bavaria.17 days = 5
			}
		}

		ai_chance = {
			base = 0

			modifier = {
				trigger = { NOT = {
					has_global_variable = dvg_bohemia_support_austria_demands
				} }

				add = 70
			}
		}
	}

	### Austria gets it
	option = {
		name = dvg_bavaria.16.b
		default_option = yes
		
		c:BAV = {
			trigger_event = {
				id = dvg_bavaria.18 days = 5
			}
		}
		c:AUS = {
			trigger_event = {
				id = dvg_bavaria.18 days = 5
			}
		}

		ai_chance = {
			base = 0

			modifier = {
				trigger = {
					has_global_variable = dvg_bohemia_support_austria_demands
				}

				add = 100
			}

			modifier = {
				trigger = { NOT = {
					has_global_variable = dvg_bohemia_support_austria_demands
				} }

				add = 20
			}
		}
	}

	### Status Quo
	option = {
		name = dvg_bavaria.16.c
		default_option = yes
		
		c:BAV = {
			trigger_event = {
				id = dvg_bavaria.19 days = 5
			}
		}
		c:AUS = {
			trigger_event = {
				id = dvg_bavaria.19 days = 5
			}
		}

		ai_chance = {
			base = 0

			modifier = {
				trigger = { NOT = {
					has_global_variable = dvg_bohemia_support_austria_demands
				} }

				add = 10
			}
		}
	}

}

### Riots at Salzburg - Bavaria gets it
dvg_bavaria.17 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.17.t
	desc = dvg_bavaria.17.d
	flavor = dvg_bavaria.17.f


	
	option = {
		name = dvg_bavaria.17.a
		default_option = yes
		
		if = {
			limit = { this = c:BAV }
			c:BAV = { annex = c:SLZ }
			change_relations = {
				country = c:AUS
				value = -50
			}
		}

		if = {
			limit = { this = c:AUS }
			change_relations = {
				country = c:BAV
				value = -50
			}
		}
	}


}

### Riots at Salzburg - Austria gets it
dvg_bavaria.18 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.18.t
	desc = dvg_bavaria.18.d
	flavor = dvg_bavaria.18.f


	
	option = {
		name = dvg_bavaria.18.a
		default_option = yes
		
		if = {
			limit = { this = c:AUS }
			c:AUS = { annex = c:SLZ }
			change_relations = {
				country = c:BAV
				value = -50
			}
		}

		if = {
			limit = { this = c:BAV }
			change_relations = {
				country = c:AUS
				value = -50
			}
		}
	}


}

### Riots at Salzburg - Status Quo
dvg_bavaria.19 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.19.t
	desc = dvg_bavaria.19.d
	flavor = dvg_bavaria.19.f


	
	option = {
		name = dvg_bavaria.19.a
		default_option = yes
		
		c:BAV = {
			change_relations = {
				country = c:AUS
				value = 25
			}
		}

		c:AUS = {
			change_relations = {
				country = c:BAV
				value = 25
			}
		}
	}


}

### Ulm incident
dvg_bavaria.20 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.20.t
	desc = dvg_bavaria.20.d
	flavor = dvg_bavaria.20.f


	
	option = {
		name = dvg_bavaria.20.a
		default_option = yes

		c:BOH = {
			trigger_event = { id = dvg_bavaria.21 days = 10 }
		}
	}


}

### Ulm incident Bohemia decision
dvg_bavaria.21 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.21.t
	desc = dvg_bavaria.21.d
	flavor = dvg_bavaria.21.f


	### Bavaria gets it
	option = {
		name = dvg_bavaria.21.a
		default_option = yes

		c:BAV = {
			trigger_event = { id = dvg_bavaria.22 days = 10 }
		}

		c:WUR = {
			trigger_event = { id = dvg_bavaria.22 days = 10 }
		}

		ai_chance = {
			base = 60
		}
	}

	### Wurtemberg gets it
	option = {
		name = dvg_bavaria.21.b
		default_option = yes

		c:BAV = {
			trigger_event = { id = dvg_bavaria.23 days = 10 }
		}

		c:WUR = {
			trigger_event = { id = dvg_bavaria.23 days = 10 }
		}

		ai_chance = {
			base = 30
		}
	}

	### Ulm remains free
	option = {
		name = dvg_bavaria.21.c
		default_option = yes

		c:BAV = {
			trigger_event = { id = dvg_bavaria.24 days = 10 }
		}

		c:WUR = {
			trigger_event = { id = dvg_bavaria.24 days = 10 }
		}

		ai_chance = {
			base = 10
		}
	}


}

### Bavaria gets Ulm 
dvg_bavaria.22 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.22.t
	desc = dvg_bavaria.22.d
	flavor = dvg_bavaria.22.f
	
	option = {
		name = dvg_bavaria.22.a
		default_option = yes

		if = {
			limit = { this = c:BAV }
			c:BAV = { annex = c:ULM }
			change_relations = {
				country = c:WUR
				value = -50
			}
		}

		if = {
			limit = { this = c:WUR }
			change_relations = {
				country = c:BAV
				value = -50
			}
		}
	}


}

### Wurtemberg gets Ulm 
dvg_bavaria.23 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.23.t
	desc = dvg_bavaria.23.d
	flavor = dvg_bavaria.23.f

	option = {
		name = dvg_bavaria.23.a
		default_option = yes

		if = {
			limit = { this = c:WUR }
			c:WUR = { annex = c:ULM }
			change_relations = {
				country = c:BAV
				value = -50
			}
		}

		if = {
			limit = { this = c:BAV }
			change_relations = {
				country = c:WUR
				value = -50
			}
		}
	}


}

### Ulm stays indipendent 
dvg_bavaria.24 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.24.t
	desc = dvg_bavaria.24.d
	flavor = dvg_bavaria.24.f
	
	option = {
		name = dvg_bavaria.24.a
		default_option = yes

		### TODO: Come up with some effect
	}


}

### Bavarian Constituion - Triggerd by jornal entry
dvg_bavaria.25 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.25.t
	desc = dvg_bavaria.25.d
	flavor = dvg_bavaria.25.f

	

	option = {
		name = dvg_bavaria.25.a
		default_option = yes

		if = {
			limit = {
				var:dvg_bavaria_liberals > 4
			}
			trigger_event = dvg_bavaria.28
		}
		else_if = {
			limit = {
				var:dvg_bavaria_reactionaries > 4
			}
			trigger_event = dvg_bavaria.26
		}
		else = {
			trigger_event = dvg_bavaria.27
		}

		remove_modifier = dvg_bav_draft_constitution
	}


}

### Bavarian Constituion - Absolutism
dvg_bavaria.26 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.26.t
	desc = dvg_bavaria.26.d
	flavor = dvg_bavaria.26.f
	
	option = {
		name = dvg_bavaria.26.a
		default_option = yes

		activate_law = law_type:law_autocracy
		activate_law = law_type:law_outlawed_dissent
		activate_law = law_type:law_no_home_affairs
		activate_law = law_type:law_state_religion
		trigger_event = { id = dvg_bavaria.29  days = 10}
	}


}

### Bavarian Constituion - Limited Contitution
dvg_bavaria.27 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.27.t
	desc = dvg_bavaria.27.d
	flavor = dvg_bavaria.27.f
	
	option = {
		name = dvg_bavaria.27.a
		default_option = yes

		activate_law = law_type:law_autocracy
		activate_law = law_type:law_censorship
		activate_law = law_type:law_no_home_affairs

		if = {
			limit = {
				has_global_variable = dvg_bavaria_freedom_of_conscience_secured
			}
			activate_law = law_type:law_freedom_of_conscience
		}else = {
			activate_law = law_type:law_state_religion
		}
		
		trigger_event = { id = dvg_bavaria.29  days = 10}
	}


}

### Bavarian Constituion - Peoples Republic
dvg_bavaria.28 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.28.t
	desc = dvg_bavaria.28.d
	flavor = dvg_bavaria.28.f
	
	option = {
		name = dvg_bavaria.28.a
		default_option = yes

		

		activate_law = law_type:law_census_voting
		activate_law = law_type:law_right_of_assembly
		activate_law = law_type:law_freedom_of_conscience
		activate_law = law_type:law_parliamentary_republic
		activate_law = law_type:law_cultural_exclusion

		set_global_variable = dvg_bav_people_republic
	}


}

### Major Protests in Munich
dvg_bavaria.29 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.29.t
	desc = dvg_bavaria.29.d
	flavor = dvg_bavaria.29.f
	
	option = {
		name = dvg_bavaria.29.a
		default_option = yes

		### TODO: Liberal pop attraction
		### TODO: Legimitacy decrease
	}


}

### The Second Council of German Nations - Start
dvg_bavaria.30 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.30.t
	desc = dvg_bavaria.30.d
	flavor = dvg_bavaria.30.f

	trigger = {
		has_global_variable = dvg_bavarian_constitution_complete
		has_global_variable = dvg_bavaria_first_german_council
		NOT = { has_global_variable = dvg_bav_second_german_council }
		country_is_in_europe = yes 
	}

	immediate = {
		set_global_variable = dvg_bav_second_german_council
	}
	
	option = {
		name = dvg_bavaria.30.a
		default_option = yes

		### Bavaria to liberal for Austria
		if = {
			limit = { this = c:BAV has_global_variable = dvg_bav_people_republic }

			
			trigger_event = { id = dvg_bavaria.31 days = 5 }
		}
		else = {
			trigger_event = { id = dvg_bavaria.32 days = 5 }
		}

		if = {
			limit = { this = c:AUS }
			change_relations = {
				country = c:BAV
				value = 50
			}
		}


		
	}


}

### The Second Council of German Nations - Failure
dvg_bavaria.31 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.31.t
	desc = dvg_bavaria.31.d
	flavor = dvg_bavaria.31.f
	
	option = {
		name = dvg_bavaria.31.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.33 days = 5 }
	}


}

### The Second Council of German Nations - Proceed
dvg_bavaria.32 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.32.t
	desc = dvg_bavaria.32.d
	flavor = dvg_bavaria.32.f
	
	option = {
		name = dvg_bavaria.32.a
		default_option = yes

		c:AUS = { trigger_event = { id = dvg_bavaria.34 days = 72 }}
	}


}

### The Second Council of German Nations - The Bavarian Plea
dvg_bavaria.33 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.33.t
	desc = dvg_bavaria.33.d
	flavor = dvg_bavaria.33.f
	
	option = {
		name = dvg_bavaria.33.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.35 days = 5 }

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_bavaria.33.b
		default_option = yes

		trigger_event = { id = dvg_bavaria.36 days = 5 }

		ai_chance = {
			base = 80
		}
	}


}

### The Second Council of German Nations - Austrian decision
dvg_bavaria.34 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.34.t
	desc = dvg_bavaria.34.d
	flavor = dvg_bavaria.34.f
	
	### Run away
	option = {
		name = dvg_bavaria.34.a

		trigger_event = { id = dvg_bavaria.35 days = 5 }

		ai_chance = {
			base = 10
		}
	}

	### Accept
	option = {
		name = dvg_bavaria.34.b
		default_option = yes

		ai_chance = {
			base = 90
		}

		trigger_event = { id = dvg_bavaria.36 days = 5 }
	}


}

### The Second Council of German Nations - Failure
dvg_bavaria.35 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.35.t
	desc = dvg_bavaria.35.d
	flavor = dvg_bavaria.35.f
	
	option = {
		name = dvg_bavaria.35.a
		default_option = yes

		hidden_effect = {
			c:BAV = { trigger_event = { id = dvg_bavaria.40 days = 8 }}
			c:AUS = { trigger_event = { id = dvg_bavaria.40 days = 8 }}
		}
	}

}

### The Second Council of German Nations - Success
dvg_bavaria.36 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.36.t
	desc = dvg_bavaria.36.d
	flavor = dvg_bavaria.36.f
	
	option = {
		name = dvg_bavaria.36.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.50 days = 20 }
	}

}


##################################################
### Failure Path
##################################################

### The Second Salzburg Incident 
dvg_bavaria.40 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.40.t
	desc = dvg_bavaria.40.d
	flavor = dvg_bavaria.40.f
	
	option = {
		name = dvg_bavaria.40.a
		default_option = yes

		trigger = {
			this = c:BAV
		}

		trigger_event = { id = dvg_bavaria.41 days = 5 }
		
	}

	option = {
		name = dvg_bavaria.40.b
		default_option = yes

		trigger = {
			this = c:AUS
		}
		
		set_global_variable = dvg_brothers_war
		trigger_event = { id = dvg_bavaria.42 days = 5 }
		custom_tooltip = DVG_BAV_WILL_LEAD_TO_WAR_TOOLTIP
		
	}

}

### Danubian brothers war
dvg_bavaria.41 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.41.t
	desc = dvg_bavaria.41.d
	flavor = dvg_bavaria.41.f
	
	option = {
		name = dvg_bavaria.41.a
		default_option = yes

		create_diplomatic_play = {

			target_country = c:AUS
			war = yes			
			type = dp_make_protectorate
			
			add_war_goal = {
				holder = c:AUS
				type = make_protectorate
				target_country = c:BAV
			}
			
		}	
	}

}

### Danubian brothers war
dvg_bavaria.42 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.42.t
	desc = dvg_bavaria.42.d
	flavor = dvg_bavaria.42.f
	
	

	option = {
		name = dvg_bavaria.42.a
		default_option = yes

		
	}
}

### Danubian brothers war - Austrian Victory
dvg_bavaria.43 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.43.t
	desc = dvg_bavaria.43.d
	flavor = dvg_bavaria.43.f
	
	immediate = {
		set_variable = dvg_brothers_war_over
	}

	trigger = {
		exists = c:AUS
		this = c:AUS
		c:BAV = { is_direct_subject_of = c:AUS }
		has_global_variable = dvg_brothers_war
		c:AUS = { NOT = { has_variable = dvg_brothers_war_over }}
	}

	option = {
		name = dvg_bavaria.43.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.44 days = 10 }
	}
}

### Danubian brothers war - The Unification of the Danubian Confederation (Austria)
dvg_bavaria.44 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.44.t
	desc = dvg_bavaria.44.d
	flavor = dvg_bavaria.44.f

	option = {
		name = dvg_bavaria.44.a
		default_option = yes

		### TODO: Add Prestige modifier
		change_tag = SGF
	}
}

### Danubian brothers war - Bavarian Victory
dvg_bavaria.45 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.45.t
	desc = dvg_bavaria.45.d
	flavor = dvg_bavaria.45.f
	
	immediate = {
		set_variable = dvg_brothers_war_over
	}


	trigger = {
		exists = c:AUS
		exists = c:BAV
		this = c:BAV
		c:AUS = { is_subject_of = c:BAV }
		has_global_variable = dvg_brothers_war
		c:BAV = { NOT = { has_variable = dvg_brothers_war_over }}
	}

	option = {
		name = dvg_bavaria.45.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.46 days = 10 }
	}
}

### Danubian brothers war - The Unification of the Danubian Confederation (Bavaria)
dvg_bavaria.46 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.46.t
	desc = dvg_bavaria.46.d
	flavor = dvg_bavaria.46.f

	option = {
		name = dvg_bavaria.46.a
		default_option = yes

		### TODO: Add Prestige modifier
		change_tag = SGF

		trigger_event = { id = dvg_bavaria.59  days = 20 }
		
	}
}

### Danubian brothers war - Cease fire 
dvg_bavaria.47 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.47.t
	desc = dvg_bavaria.47.d
	flavor = dvg_bavaria.47.f

	immediate = {
		c:BAV = {
			set_variable = dvg_brothers_war_over
		}
	}

	trigger = {
		exists =c:BAV
		exists = c:AUS
		OR = {
			AND ={
				this = c:AUS
				is_player = yes
				c:BAV = { is_player = no }
			}
			this = c:BAV
			
		}
		c:BAV = { has_truce_with = c:AUS }
		has_global_variable = dvg_brothers_war

		c:BAV = { NOT = { has_variable = dvg_brothers_war_over }}
	}

	option = {
		name = dvg_bavaria.47.a
		default_option = yes

		trigger_event = { id = dvg_bavaria.48 days = 10 }
		
	}
}

### Danubian brothers war - Unification (Slazburg Capital)
dvg_bavaria.48 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.48.t
	desc = dvg_bavaria.48.d
	flavor = dvg_bavaria.48.f

	option = {
		name = dvg_bavaria.48.a
		default_option = yes

		### TODO: Add Prestige modifier
		### TODO: Change Capital to Salzburg
		change_tag = SGF
		
	}
}

##################################################
### Success Path
##################################################

### Klagenfurt event in Austria File


### THIRD COUNCIL OF GERMAN NATIONS - UNIFICATION COUNCIL
dvg_bavaria.50 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.50.t
	desc = dvg_bavaria.50.d
	flavor = dvg_bavaria.50.f

	option = {
		name = dvg_bavaria.50.a
		default_option = yes

		### TODO: Add Prestige modifier
		#change_tag = SGF

		set_global_variable = dvg_third_council

		c:AUS = {
			trigger_event = dvg_bavaria.51
		}
		
	}
}

### THIRD COUNCIL OF GERMAN NATIONS - UNIFICATION COUNCIL - AUSTRIA 
dvg_bavaria.51 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.51.t
	desc = dvg_bavaria.51.d
	flavor = dvg_bavaria.51.f

	option = {
		name = dvg_bavaria.51.a
		default_option = yes
		

		if = {
			limit = {
				NOT ={
					has_global_variable = dvg_sgf_CRN_later
					c:CRN = { is_subject_of = c:AUS }
				}
			}

			c:BAV = { trigger_event = { id = dvg_bavaria.57 days = 20 }}
		}
	}
}


### The Carinthian Problem
dvg_bavaria.52 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.52.t
	desc = dvg_bavaria.52.d
	flavor = dvg_bavaria.52.f

	trigger = {
		exists = c:BAV
		this = c:BAV
		has_global_variable = dvg_third_council
		OR = {
			has_global_variable = dvg_sgf_CRN_later
			c:CRN = { is_subject_of = c:AUS }
		}
	}

	option = {
		name = dvg_bavaria.52.a
		default_option = yes

		c:AUS = {
			trigger_event = dvg_bavaria.53
		}
		
	}
}

### The Carinthian Problem
dvg_bavaria.53 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.53.t
	desc = dvg_bavaria.53.d
	flavor = dvg_bavaria.53.f

	

	option = {
		name = dvg_bavaria.53.a
		default_option = yes

		random_list ={
			75 = { c:BAV = { trigger_event = { id = dvg_bavaria.56 popup = yes } }}
			25 = { trigger_event = { id = dvg_bavaria.54 popup = yes } }
		}

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_bavaria.53.b
		default_option = yes

		c:BAV = {
			trigger_event = dvg_bavaria.55
		}
		
		ai_chance = {
			base = 50
		}
	}
}

### Collapse of the Third German Council
dvg_bavaria.54 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.54.t
	desc = dvg_bavaria.54.d
	flavor = dvg_bavaria.54.f

	

	option = {
		name = dvg_bavaria.54.a
		default_option = yes
		
		c:BAV = {
			trigger_event = dvg_bavaria.55
		}
	}

}

### Failure of the Third German Council
dvg_bavaria.55 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.55.t
	desc = dvg_bavaria.55.d
	flavor = dvg_bavaria.55.f

	

	option = {
		name = dvg_bavaria.55.a
		default_option = yes
		
		### Switch to failure path
		hidden_effect = {
			trigger_event = dvg_bavaria.40
			c:AUS = {
				trigger_event = dvg_bavaria.40
			}
		}
	}

}

### The Carinthian Mediation
dvg_bavaria.56 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.56.t
	desc = dvg_bavaria.56.d
	flavor = dvg_bavaria.56.f

	

	option = {
		name = dvg_bavaria.56.a
		default_option = yes
		
		set_global_variable = dvg_promised_crn_puppet

		trigger_event = { id = dvg_bavaria.57 days = 50 }
	}

}

### The Question of the Capital
dvg_bavaria.57 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.57.t
	desc = dvg_bavaria.57.d
	flavor = dvg_bavaria.57.f

	### Vienna
	option = {
		name = dvg_bavaria.57.a
		
		trigger_event = { id = dvg_bavaria.60 days = 20 }

		set_global_variable = dvg_sgf_munich_capital

		ai_chance = {
			base = 20
		}
	}

	### Munich
	option = {
		name = dvg_bavaria.57.b
		default_option = yes

		trigger_event = { id = dvg_bavaria.58 days = 20 }

		set_global_variable = dvg_sgf_vienna_capital

		ai_chance = {
			base = 80
		}
	}

}

### Vienna is Chosen as the Confederation's Capital!
dvg_bavaria.58 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.58.t
	desc = dvg_bavaria.58.d
	flavor = dvg_bavaria.58.f

	
	option = {
		name = dvg_bavaria.58.a
		default_option = yes
		
		trigger_event = dvg_bavaria.59
	}
}

### The Unification of the Danubian Confederation
dvg_bavaria.59 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.59.t
	desc = dvg_bavaria.59.d
	flavor = dvg_bavaria.59.f

	
	option = {
		name = dvg_bavaria.59.a
		default_option = yes
		
		hidden_effect = {

			if = {
				limit = { exists = c:AUS }
				annex = c:AUS
			}

			if = {
				limit = { exists = c:SLZ }
				annex = c:SLZ
			}

			if = {
				limit = { 
					c:FRE = { is_subject_of = c:BAV }
					exists = c:FRE 
				}
				annex = c:FRE
			}else_if = {
				limit = { exists = c:FRE }
				c:FRE = { trigger_event = dvg_bavaria.62 }
			}

			if = {
				limit = { exists = c:AGR }
				c:AGR = { trigger_event = dvg_bavaria.62 }
			}

			if = {
				limit = { exists = c:TYR }
				c:TYR = { trigger_event = dvg_bavaria.62 }
			}

			if = {
				limit = { exists = c:WUR }
				c:WUR = { trigger_event = dvg_bavaria.62 }
			}
			
			if = {
				limit = { exists = c:ULM }
				c:ULM = { trigger_event = dvg_bavaria.62 }
			}

			if = {
				limit = { exists = c:BAD }
				c:BAD = { trigger_event = dvg_bavaria.62 }
			}

			if = {
				limit = { exists = c:ASB }
				c:ASB = { trigger_event = dvg_bavaria.62 }
			}
			
			
			### TODO: Add missing integrations
		}
		change_tag = SGF

		if = {
			limit = { has_global_variable = dvg_sgf_vienna_capital } 

			set_capital = STATE_AUSTRIA
		}
	}
}

### Munich is Chosen as the Confederation's Capital!
dvg_bavaria.60 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.60.t
	desc = dvg_bavaria.60.d
	flavor = dvg_bavaria.60.f

	
	option = {
		name = dvg_bavaria.60.a
		default_option = yes
		
		trigger_event = dvg_bavaria.61
	}
}

###The Unification of the Danubian Confederation
dvg_bavaria.61 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.61.t
	desc = dvg_bavaria.61.d
	flavor = dvg_bavaria.61.f

	
	option = {
		name = dvg_bavaria.61.a
		default_option = yes

		### TODO: Add missing integrations
		if = {
			limit = { exists = c:AUS }
			annex = c:AUS
		}

		if = {
			limit = { exists = c:SLZ }
			annex = c:SLZ
		}

		if = {
			limit = { exists = c:FRE }
			annex = c:FRE
		}

		if = {
			limit = { exists = c:AGR }
			c:AGR = { trigger_event = dvg_bavaria.62 }
		}

		if = {
			limit = { exists = c:TYR }
			c:TYR = { trigger_event = dvg_bavaria.62 }
		}

		if = {
			limit = { exists = c:WUR }
			c:WUR = { trigger_event = dvg_bavaria.62 }
		}
		
		if = {
			limit = { exists = c:ULM }
			c:ULM = { trigger_event = dvg_bavaria.62 }
		}

		if = {
			limit = { exists = c:BAD }
			c:BAD = { trigger_event = dvg_bavaria.62 }
		}

		if = {
			limit = { exists = c:ASB }
			c:ASB = { trigger_event = dvg_bavaria.62 }
		}

			

		change_tag = SGF
	}
}

### SGF formed integration events
### The Rise of the Danubian Confederation
dvg_bavaria.62 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 1

	placement = ROOT
	type = country_event
	
	title = dvg_bavaria.62.t
	desc = dvg_bavaria.62.d
	flavor = dvg_bavaria.62.f

	
	option = {
		name = dvg_bavaria.62.a
		default_option = yes
		
		hidden_effect = {
			c:SGF = { annex = ROOT }
		}

		ai_chance = {
			base = 100
		}
		
	}

	option = {
		name = dvg_bavaria.62.b
		
	}
}


#### ALL FURTHER EVENTS IN SGF EVENT FILE